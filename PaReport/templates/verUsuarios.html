{%  extends "base.html" %}
{% load staticfiles %}
{% block title %}Tabla: Users{% endblock %}
{% block jsincludes %}
    <link rel="stylesheet" href="{% static "css/jquery.dynatable.css" %}">
    <script src="{% static "js/jquery.dynatable.js" %}"></script>
    <script> $(function() {$('#tabla-stock').dynatable();} );</script>
    <link rel="stylesheet" href="{% static "css/tableexport.css" %}">
    <script src="{% static "js/export.js" %}"></script>
{% endblock %}

{% block content %}
<table id="tabla-stock">
        <thead>
            <th>User</th>
            <th>Authentication</th>
            <th>First Name</th>
            <th>Last Name</th>
        </thead>
        <tbody>
            {% for registro in data %}
                  <tr>
                      <td>{{registro.user}}</td>
                      <td>{{registro.authentication}}</td>
                      <td>{{registro.first_name}}</td>
                      <td>{{registro.last_name}}</td>
                  </tr>
          
                {% endfor %}
        </tbody>
</table>
{% if filtered%}
<form method="post">{% csrf_token %}<td><button type="submit" class="btn btn-light csv"> Exportar tabla a CSV<input type="hidden" name="form" value="{{consulta}}" class="textfield"></button> </td><td><em>&nbsp;&nbsp;&nbsp;Exportar los datos de la tabla a un archivo CSV</em></td>
</form>
{%else%}
<form method="post">{% csrf_token %}<td><button type="submit" class="btn btn-light csv"> Exportar tabla a CSV<input type="hidden" name="form" value="exportar"></button></td><td> <em>&nbsp;&nbsp;&nbsp;Exportar los datos de la tabla a un archivo CSV</em></td>
</form>
{%endif%}
<form method="post">{% csrf_token %}
    </tr><tr>
<td><div class="dropdown">
    <button class="btn btn-light xls dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Consulta predefinida
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
      <button class="dropdown-item" type="submit">Ver Usuarios de Chile<input type="hidden" name="form" value="CHL"></button>
    </div>
  </div>
</td>
<td><em>&nbsp;&nbsp;&nbsp;Filtrar la tabla utilizando consultas predefinidas.</em></td>
</form>
</tr>
</table>

<br><hr style="width: 100%; color: red; height: 1px; background-color:red;" />

<h1 class="text-danger">BÃºsqueda por valor&ensp;&ensp;<i class="icon-magnifier menu-icon"></i></h1>
<form method="post">
        {% csrf_token %}
    <div class="responsivetable jsresponsive" style="max-width: 1297px;">
        <table class="table table-hover table-responsive">
    <thead>
        <tr>
            <th>Columna</th>
            <th>Operador</th>
            <th>Valor</th>
        </tr>
    </thead>
    
    <tbody>
    <tr class="noclick">
        <th>User</th>
    <td>
        <select id="ColumnOperator0" class="form-control" name="criterio">
            <option value="LIKE">Igual a</option><option value="LIKE %...%">Parecido a</option><option value="NOT LIKE">Distinto a</option>
        </select>
    </td>
    <td data-type="int(11)">
        <input type="text" name="detalle" size="30" class="form-control" id="fieldID_0">
    </td>
    </tr>
    <tr class="noclick">
        <th>Status</th>
    <td>
        <select id="ColumnOperator0" class="form-control" name="criterio">
            <option value="LIKE">Igual a</option><option value="LIKE %...%">Parecido a</option><option value="NOT LIKE">Distinto a</option>
        </select>
    </td>
    <td data-type="int(11)">
        <input type="text" name="detalle" size="30" class="form-control" id="fieldID_0">
    </td>
    </tr>
    <tr class="noclick">
        <th>Authentication</th>
    <td>
        <select id="ColumnOperator0" class="form-control" name="criterio">
            <option value="LIKE">Igual a</option><option value="LIKE %...%">Parecido a</option><option value="NOT LIKE">Distinto a</option>
        </select>
    </td>
    <td data-type="int(11)">
        <input type="text" name="detalle" size="30" class="form-control" id="fieldID_0">
    </td>
    </tr>
    <tr class="noclick">
        <th>First Name</th>
    <td>
        <select id="ColumnOperator0" class="form-control" name="criterio">
            <option value="LIKE">Igual a</option><option value="LIKE %...%">Parecido a</option><option value="NOT LIKE">Distinto a</option>
        </select>
    </td>
    <td data-type="int(11)">
        <input type="text" name="detalle" size="30" class="form-control" id="fieldID_0">
    </td>
    </tr>
    <tr class="noclick">
        <th>Last Name</th>
    <td>
        <select id="ColumnOperator0" class="form-control" name="criterio">
            <option value="LIKE">Igual a</option><option value="LIKE %...%">Parecido a</option><option value="NOT LIKE">Distinto a</option>
        </select>
    </td>
    <td data-type="int(11)">
        <input type="text" name="detalle" size="30" class="form-control" id="fieldID_0">
    </td>
    </tr>
    <tr class="noclick">
        <th>Last Login</th>
    <td>
        <select id="ColumnOperator0" class="form-control" name="criterio">
            <option value="LIKE">Igual a</option><option value="LIKE %...%">Parecido a</option><option value="NOT LIKE">Distinto a</option>
        </select>
    </td>
    <td data-type="int(11)">
        <input type="text" name="detalle" size="30" class="form-control" id="fieldID_0">
    </td>
    </tr>

    </tbody></div>
</table>
</div></fieldset></fieldset></fieldset></fieldset>

<div class="clearfloat"></div>
</div></div></fieldset>
<button type="submit" class="btn btn-block btn-danger btn-lg">Consulta<input type="hidden" name="form" value="filtrar"></button>
</form>
{% endblock %}